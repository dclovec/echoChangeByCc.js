window.echoChangeByCc =(function (a, b) { "use strict"; var f, g, h, i, j, k, d = {}, e = function () { }, l = function (a) { return null === a.offsetParent }, m = function (a, b) { if (l(a)) return !1; var c = a.getBoundingClientRect(); return c.right >= b.l && c.bottom >= b.t && c.left <= b.r && c.top <= b.b }, n = function () { (j || !h) && (clearTimeout(h), h = setTimeout(function () { d.render(), h = null }, i)) }; return d.init = function (a) { a = a || {}; var c = a.offset || 0, h = a.offsetVertical || c, l = a.offsetHorizontal || c, m = function (a, b) { return parseInt(a || b, 10) }; f = a.container || b.body, g = { t: m(a.offsetTop, h), b: m(a.offsetBottom, h), l: m(a.offsetLeft, l), r: m(a.offsetRight, l) }, i = m(a.throttle, 250), j = a.debounce !== !1, k = !!a.unload, e = a.callback || e, d.render(), b.addEventListener ? (f.addEventListener("scroll", n, !1), b.body.addEventListener("load", n, !1)) : (f.attachEvent("onscroll", n), b.body.attachEvent("onload", n)) }, d.render = function () { var h, i, l, a = b.querySelectorAll("img[data-echo], [data-echo-background]"), c = a.length, j = { l: 0 - g.l, t: 0 - g.t, b: f.clientHeight + g.b, r: f.clientWidth + g.r }; for (l = 0; c > l; l++) i = a[l], m(i, j) ? (k && i.setAttribute("data-echo-placeholder", i.src), null !== i.getAttribute("data-echo-background") ? i.style.backgroundImage = "url(" + i.getAttribute("data-echo-background") + ")" : i.src = i.getAttribute("data-echo"), k || (i.removeAttribute("data-echo"), i.removeAttribute("data-echo-background")), e(i, "load")) : k && (h = i.getAttribute("data-echo-placeholder")) && (null !== i.getAttribute("data-echo-background") ? i.style.backgroundImage = "url(" + h + ")" : i.src = h, i.removeAttribute("data-echo-placeholder"), e(i, "unload")); c || d.detach() }, d.detach = function () { b.removeEventListener ? f.removeEventListener("scroll", n) : f.detachEvent("onscroll", n), clearTimeout(h) }, d })(window, document);